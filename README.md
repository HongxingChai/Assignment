## 学校网上作业布置
---

### 一、登录管理
#### 1. 用户登陆
* **接口名称：** `/login`
* **接口描述：** `用户登录`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 登录用户名
`password` | `String` | 是 | 登录用户密码

**请求示例**
```json
{
    "account" : "登录用户名",
    "password" : "登录密码"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于0：正确；小于0：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果
`token` | `String` | 是 | 登录鉴权token，包括隶属公司数据库

**返回码说明**

返回码(code) | 说明(msg)
---|---
`0`|`登录成功`
`-1`|`登录失败，账号或密码存在错误，请重新输入`

**返回示例**
```json
{
    "code" : 0,
    "msg" : "登录成功" ,
    "data" : {
        "token": "登录鉴权token，包括隶属公司数据库"
    }
}
```

#### 2.密码修改
* **接口名称：** `/update_pwd`
* **接口描述：** `用户密码修改`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 登录用户名(隐藏不让修改)
`old_password` | `String` | 是 | 登录旧密码
`new_password` | `String` | 是 | 新密码

**请求示例**
```json
{
    "account" : "登录用户名",
    "old_password" : "登录旧密码",
    "new_password" : "新密码"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于1：正确；等于-100和-101：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`1`|`更新密码成功`
`-100`|`更新密码失败，用户不存在`
`-101`|`更新密码失败，原密码错误`

**返回示例**
```json
{
    "code" : 1,
    "msg" : "更新密码成功" ,
    "data" : {
        "staff_id" : "用户ID",
        "account" : "用户名"
    }
}
```

### 二、系统功能
#### 1.老师文件上传
* **接口名称：** `/teacher_upload`
* **接口描述：** `老师上传作业到数据库`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 老师用户名
`homework_code` | `String` | 是 | 作业编码
`t_file` | `File` | 是 | 作业文件


**请求示例**
```json
{
    "account" : "老师用户名",
    "homework_code" : "作业编码",
    "t_file" : "作业文件"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于2：正确；等于-200：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`2`|`上传作业成功`
`-200`|`上传作业失败`


**返回示例**
```json
{
    "code" : 2,
    "msg" : "上传作业成功" ,
    "data" : {
        "account" : "用户名"
    }
}
```

#### 2.学生文件下载
* **接口名称：** `/student_download`
* **接口描述：** `学生从服务器中下载作业`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 学生用户名
`grade` | `String` | 是 | 学生年级
`homework_code` | `String` | 是 | 作业编码


**请求示例**
```json
{
    "account" : "学生用户名",
    "homework_code" : "作业编码",
    "grade" : "学生年级"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于3：正确；等于-300和-301：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`3`|`下载成功`
`-300`|`下载失败，用户不存在`
`-301`|`下载失败，用户不是该老师学生`

**返回示例**
```json
{
    "code" : 3,
    "msg" : "下载成功" ,
    "data" : {
        "t_file" : "FILE"
    }
}
```

#### 3.学生文件上传
* **接口名称：** `/student_upload`
* **接口描述：** `学生上交作业`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 学生用户名
`s_file` | `File` | 是 | 作业文件


**请求示例**
```json
{
    "account" : "学生用户名",
    "s_file" : "作业文件"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于4：正确；等于-400：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`4`|`上传文件成功`
`-400`|`上传文件失败`


**返回示例**
```json
{
    "code" : 4,
    "msg" : "上传文件成功" ,
    "data" : {
        "account" : "用户名"
    }
}
```

#### 4.评审作业
* **接口名称：** `/teacher_download_all`
* **接口描述：** `老师下载所有作业`
* **请求协议：** `HTTP post + json`
* **传入参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`account` | `String` | 是 | 老师用户名
`homework_code` | `String` | 是 | 作业编号


**请求示例**
```json
{
    "account" : "老师用户名",
    "homework_code" : "作业编号"
}
```

* **返回参数**

参数名称 | 类型 | 是否必填 | 备注
---|---|---|---
`code` | `int` | 是 | 等于5：正确；等于-500：错误
`msg` | `String` | 是 | 返回结果说明
`data` | `object` | 是 | 请求的返回结果

**返回码说明**

返回码(code) | 说明(msg)
---|---
`5`|`下载成功`
`-500`|`下载失败`

**返回示例**
```json
{
    "code" : 5,
    "msg" : "下载成功" ,
    "data" : {
        "account" : "用户名",
        "all_file" : "作业文件"
    }
}
```

## 开发人员
---
### HTML前端开发
* **人员** `陶国玲 + 许文娇`
* **分工**

### java服务端开发
* **人员** `lvxz`
* **分工**

### 数据库开发
* **人员** `once + lvxz`
* **分工**



